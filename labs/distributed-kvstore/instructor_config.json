{
    "scenarios": [
        {
            "id": "scenario_1",
            "name": "Basic Operations",
            "description": "Verify the system can perform basic read and write operations",
            "weight": 15,
            "tests": [
                {
                    "id": "basic_write_1",
                    "type": "write",
                    "key": "greeting",
                    "value": "hello_world"
                },
                {
                    "id": "basic_read_1",
                    "type": "read",
                    "key": "greeting",
                    "expected_value": "hello_world"
                },
                {
                    "id": "basic_write_2",
                    "type": "write",
                    "key": "cart_item",
                    "value": "laptop"
                },
                {
                    "id": "basic_read_2",
                    "type": "read",
                    "key": "cart_item",
                    "expected_value": "laptop"
                },
                {
                    "id": "basic_overwrite",
                    "type": "write",
                    "key": "cart_item",
                    "value": "keyboard"
                },
                {
                    "id": "basic_read_overwrite",
                    "type": "read",
                    "key": "cart_item",
                    "expected_value": "keyboard"
                }
            ]
        },
        {
            "id": "scenario_2",
            "name": "Fault Tolerance",
            "description": "System must continue operating after floor(N/2) node failures",
            "weight": 25,
            "tests": [
                {
                    "id": "ft_write_before",
                    "type": "write",
                    "key": "before_failure",
                    "value": "safe_data"
                },
                {
                    "id": "ft_kill_nodes",
                    "type": "kill_nodes",
                    "count": "floor(N/2)",
                    "description": "Kill maximum tolerable number of followers"
                },
                {
                    "id": "ft_write_after",
                    "type": "write",
                    "key": "after_failure",
                    "value": "still_works"
                },
                {
                    "id": "ft_read_after",
                    "type": "read",
                    "key": "after_failure",
                    "expected_value": "still_works"
                },
                {
                    "id": "ft_read_old_data",
                    "type": "read",
                    "key": "before_failure",
                    "expected_value": "safe_data"
                }
            ]
        },
        {
            "id": "scenario_3",
            "name": "Consistency",
            "description": "Reads must return fresh data (tests W + R > N)",
            "weight": 25,
            "tests": [
                {
                    "id": "consistency_stale_1",
                    "type": "stale_read",
                    "key": "stale_test_1"
                },
                {
                    "id": "consistency_stale_2",
                    "type": "stale_read",
                    "key": "stale_test_2"
                },
                {
                    "id": "consistency_stale_3",
                    "type": "stale_read",
                    "key": "stale_test_3"
                }
            ]
        },
        {
            "id": "scenario_4",
            "name": "Rate Limiting",
            "description": "Gateway must reject excess traffic with 429 responses",
            "weight": 15,
            "tests": [
                {
                    "id": "rate_limit_test",
                    "type": "rate_limit",
                    "description": "Send burst traffic and verify rate limiting kicks in"
                }
            ]
        },
        {
            "id": "scenario_5",
            "name": "Recovery",
            "description": "System recovers after spawning a replacement node",
            "weight": 20,
            "tests": [
                {
                    "id": "recovery_write_before",
                    "type": "write",
                    "key": "pre_recovery",
                    "value": "must_survive"
                },
                {
                    "id": "recovery_kill",
                    "type": "kill_node",
                    "target": "follower-1"
                },
                {
                    "id": "recovery_spawn",
                    "type": "spawn_node",
                    "description": "Spawn a replacement node"
                },
                {
                    "id": "recovery_read",
                    "type": "read",
                    "key": "pre_recovery",
                    "expected_value": "must_survive"
                }
            ]
        }
    ],
    "cost_model": {
        "per_node_cost": 10,
        "budget_limit": 50
    }
}